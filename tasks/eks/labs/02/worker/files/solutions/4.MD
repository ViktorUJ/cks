[doc](https://kubernetes.io/docs/concepts/services-networking/ingress/)

```
kubectl config use-context cluster6-admin@cluster6
```

create secret
``` 
# ls /var/work/19
cks.local.crt  cks.local.key

```
``` 
#k create secret tls cks -n team-19  --cert /var/work/19/cks.local.crt --key /var/work/19/cks.local.key
secret/cks created

```
``` 
#k get svc -n team-19
NAME     TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)   AGE
team19   ClusterIP   10.110.75.242   <none>        80/TCP    9m28s

```
``` 
#k get ingressclasses.networking.k8s.io
NAME    CONTROLLER             PARAMETERS   AGE
nginx   k8s.io/ingress-nginx   <none>       18m
```
``` 
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: team19
  namespace: team-19
spec:
  tls:
  - hosts:
      - cks.local
    secretName: cks
  ingressClassName: nginx    
  rules:
  - host: cks.local
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: team19
            port:
              number: 80

```

find annotations for redirect in [documentation](https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/annotations/)


add redirect annotation  
```
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: team19
  namespace: team-19
  annotations:                                                         # add it
   nginx.ingress.kubernetes.io/force-ssl-redirect: "true"              # add it
spec:
  tls:
  - hosts:
      - cks.local
    secretName: cks
  ingressClassName: nginx
  rules:
  - host: cks.local
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: team19
            port:
              number: 80

```
check   redirect  form http to https
```
# curl http://cks.local:30102 -v


*   Trying 10.10.3.226:30102...
* Connected to cks.local (10.10.3.226) port 30102 (#0)
> GET / HTTP/1.1
> Host: cks.local:30102
> User-Agent: curl/7.81.0
> Accept: */*
>
* Mark bundle as not supporting multiuse
< HTTP/1.1 308 Permanent Redirect
< Date: Tue, 28 Oct 2025 06:03:18 GMT
< Content-Type: text/html
< Content-Length: 164
< Connection: keep-alive
< Location: https://cks.local
<
<html>
<head><title>308 Permanent Redirect</title></head>
<body>
<center><h1>308 Permanent Redirect</h1></center>
<hr><center>nginx</center>
</body>
</html>
* Connection #0 to host cks.local left intact
```